(this.webpackJsonptodo_client=this.webpackJsonptodo_client||[]).push([[0],{17:function(e,t,n){},43:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(18),o=n.n(c),i=(n(43),n(6)),l=n(14),u=n(35),d=n(36),m=n(2),j="TASK_FETCH_REQUEST",b="TASK_FETCH_SUCCESS",p="TASK_FETCH_ERROR",f="TASK_LOG_OUT",O="SET_TASK_ALERT",h="REMOVE_TASK_ALERT",x="TASK_ALL_DELETE_SUCCESS",g={taskList:[],taskAlert:null,loadding:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case j:return Object(m.a)(Object(m.a)({},e),{},{loadding:!0});case b:return Object(m.a)(Object(m.a)({},e),{},{taskList:a,loadding:!1});case p:return Object(m.a)(Object(m.a)({},e),{},{taskList:[],loadding:!1});case f:return Object(m.a)({},g);case O:return Object(m.a)(Object(m.a)({},e),{},{taskAlert:a});case h:return Object(m.a)(Object(m.a)({},e),{},{taskAlert:null});case x:return g;default:return e}},N="USER_FETCH_REQUEST",y="USER_FETCH_SUCCESS",S="USER_FETCH_ERROR",k="USER_LOG_OUT",E="USER_UPDATE_SUCCESS",w="SET_ALERT",C="REMOVE_ALERT",T={user:{},isLogin:!1,loadding:!1,userAlert:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N:return Object(m.a)(Object(m.a)({},e),{},{loadding:!0});case y:case E:return Object(m.a)(Object(m.a)({},e),{},{user:a,loadding:!1,isLogin:!0});case S:return Object(m.a)(Object(m.a)({},e),{},{user:{},loadding:!1,isLogin:!1});case w:return Object(m.a)(Object(m.a)({},e),{},{userAlert:a});case C:return Object(m.a)(Object(m.a)({},e),{},{userAlert:null});case k:return Object(m.a)({},T);default:return e}},A=Object(l.combineReducers)({User:_,Task:v}),U=Object(l.createStore)(A,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(d.a))),L=(n(17),n(5)),F=n(13),R=n.n(F),P="https://dhaval-todo-app.herokuapp.com",D=function(){return{type:N,payload:null}},q=function(e){return{type:y,payload:e}},H=function(e){return{type:S,payload:e}},I=function(e){return{type:w,payload:e}},K=function(e){return{type:C,payload:e}},J=function(e,t,n){return function(a){t.password!==n?(a(I({type:"danger",message:"Password and Confirm Password does not match"})),setTimeout((function(){return a(K())}),3e3)):R.a.post("".concat(P,"/api/user-update/"),Object(m.a)({id:e.id,old_email:e.email,old_username:e.username},t)).then((function(e){var t=e.data;a(function(e){return{type:E,payload:e}}(t)),a(I({type:"success",message:"Profile Updated Successfully"})),setTimeout((function(){return a(K())}),3e3)})).catch((function(e){var t=e.response.data.message;a(I({type:"danger",message:t})),setTimeout((function(){return a(K())}),3e3)}))}},M=function(e){return function(t){localStorage.setItem("todo-user",""),t({type:k,payload:null}),t(I({type:"primary",message:"By ".concat(e,"!  See You Again :)")})),setTimeout((function(){return t(K())}),3e3)}},W=n(4),B=n(12),G=function(e){var t=e.alert;return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("div",{className:"alert alert-".concat(t.type," alert-dismissible fade show mt-3"),role:"alert",children:Object(a.jsxs)("strong",{children:[t.message," !"]})})})},Y=function(){var e=Object(i.c)((function(e){return e.User})),t=e.isLogin,n=e.userAlert,s=Object(r.useState)(""),c=Object(L.a)(s,2),o=c[0],l=c[1],u=Object(r.useState)(""),d=Object(L.a)(u,2),j=d[0],b=d[1],p=Object(i.b)();if(t)return Object(a.jsx)(W.a,{to:"/"});var f=function(e){var t;e.preventDefault(),p((t={username:o,password:j},function(e){e(D()),R.a.post("".concat(P,"/api/user-login/"),Object(m.a)({},t)).then((function(t){var n=t.data;e(q(n)),localStorage.setItem("todo-user",JSON.stringify({id:n.id,username:n.username,email:n.email})),e(I({type:"success",message:"Welcome ".concat(n.username,"!  We Are Happy To See You Again :)")})),setTimeout((function(){return e(K())}),3e3)})).catch((function(t){var n=t.response.data.message;e(H()),e(I({type:"danger",message:n})),setTimeout((function(){return e(K())}),3e3)}))}))};return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container w-80",children:[n&&Object(a.jsx)(G,{alert:n}),Object(a.jsxs)("div",{id:"task-container",children:[Object(a.jsx)("h1",{className:"text-center pt-3 cart-title",children:"Sign-In"}),Object(a.jsxs)("form",{id:"form",className:"m-4 p-4",onSubmit:function(e){return f(e)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username or Email Address"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Username or Email Address",value:o,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",autoComplete:"false",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(a.jsx)("p",{className:"text-center",children:Object(a.jsx)(B.b,{to:"/signup",children:"Don't Have Account"})}),Object(a.jsx)("div",{className:"col-md-12 text-center ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-block btn-primary ",children:"Sign-In"})})]})]})]})})},Q=function(){var e=Object(i.c)((function(e){return e.User})),t=e.isLogin,n=e.userAlert,s=Object(r.useState)(""),c=Object(L.a)(s,2),o=c[0],l=c[1],u=Object(r.useState)(""),d=Object(L.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(""),f=Object(L.a)(p,2),O=f[0],h=f[1],x=Object(r.useState)(""),g=Object(L.a)(x,2),v=g[0],N=g[1],y=Object(r.useState)(""),S=Object(L.a)(y,2),k=S[0],E=S[1],w=Object(r.useState)(""),C=Object(L.a)(w,2),T=C[0],_=C[1],A=Object(i.b)();if(t)return Object(a.jsx)(W.a,{to:"/"});var U=function(e){e.preventDefault(),A(function(e,t){return function(n){e.password!==t?(n(I({type:"danger",message:"Password and Confirm Password does not match"})),setTimeout((function(){return n(K())}),3e3)):(n(D()),R.a.post("".concat(P,"/api/user-create/"),Object(m.a)({},e)).then((function(e){var t=e.data;n(q(t)),localStorage.setItem("todo-user",JSON.stringify({id:t.id,username:t.username,email:t.email})),n(I({type:"success",message:"Welcome ".concat(t.username,"!  Thank You For The Registration :)")})),setTimeout((function(){return n(K())}),3e3)})).catch((function(e){var t=e.response.data.message;n(H()),n(I({type:"danger",message:t})),setTimeout((function(){return n(K())}),3e3)})))}}({username:o,password:O,email:j,first_name:k,last_name:T},v))};return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container w-md-50",children:[n&&Object(a.jsx)(G,{alert:n}),Object(a.jsxs)("div",{id:"task-container",children:[Object(a.jsx)("h1",{className:"text-center pt-3 cart-title",children:"Sign-Up"}),Object(a.jsxs)("form",{id:"form",className:"mx-4 px-4 py-3",onSubmit:function(e){return U(e)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"User Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"First Name",value:k,onChange:function(e){return E(e.target.value)}})]}),Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Last Name",value:T,onChange:function(e){return _(e.target.value)}})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Example ! temp@temp.com...",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",autoComplete:"false",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"Confirm-Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm Password",autoComplete:"false",value:v,onChange:function(e){return N(e.target.value)}})]})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsx)("div",{className:"form-group col-md-6 text-center ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-block btn-primary ",children:"Sign-Up"})}),Object(a.jsx)("div",{className:"form-group col-md-6",children:Object(a.jsx)(B.b,{to:"/",className:"btn btn-block btn-info ",children:"Sign-In"})})]})]})]})]})})},V=function(){var e=Object(i.c)((function(e){return e.User})),t=e.isLogin,n=e.user,s=(e.error,e.userAlert),c=Object(r.useState)(""),o=Object(L.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)(""),m=Object(L.a)(d,2),j=m[0],b=m[1],p=Object(r.useState)(""),f=Object(L.a)(p,2),O=f[0],h=f[1],x=Object(r.useState)(""),g=Object(L.a)(x,2),v=g[0],N=g[1],y=Object(r.useState)(""),S=Object(L.a)(y,2),k=S[0],E=S[1],w=Object(r.useState)(""),C=Object(L.a)(w,2),T=C[0],_=C[1],A=Object(r.useState)(!1),U=Object(L.a)(A,2),F=U[0],R=U[1],P=Object(i.b)();if(Object(r.useEffect)((function(){if(t){var e=n.username,a=n.email,r=n.password,s=n.first_name,c=n.last_name;u(e),b(a),E(s),_(c),h(r),N(r)}}),[t,n]),!t)return Object(a.jsx)(W.a,{to:"/login"});return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container w-md-50",children:[s&&Object(a.jsx)(G,{alert:s}),Object(a.jsxs)("div",{id:"task-container",children:[Object(a.jsx)("h1",{className:"text-center pt-3 cart-title",children:"My Profile"}),Object(a.jsxs)("form",{id:"form",className:"mx-4 px-4 py-3",onSubmit:function(e){return e.preventDefault(),void P(J(n,{username:l,password:O,email:j,first_name:k,last_name:T},v))},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"User Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",value:l,onChange:function(e){return u(e.target.value)},required:!0})]}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"First Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"First Name",value:k,onChange:function(e){return E(e.target.value)},required:!0})]}),Object(a.jsxs)("div",{className:"form-group col-md-6",children:[Object(a.jsx)("label",{children:"Last Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Last Name",value:T,onChange:function(e){return _(e.target.value)},required:!0})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Example ! temp@temp.com...",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",autoComplete:"false",value:O,onChange:function(e){return h(e.target.value)},disabled:!F,required:!0})]}),F?Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("label",{children:"Confirm-Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Confirm Password",autoComplete:"false",value:v,onChange:function(e){return N(e.target.value)},required:!0})]}):Object(a.jsx)("button",{className:"btn text-center",onClick:function(){return R(!F)},children:"Click Here To Change Password"}),Object(a.jsxs)("div",{className:"form-row",children:[Object(a.jsx)("div",{className:"form-group col-md-6 text-center ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-block btn-warning ",children:"Update Profile"})}),Object(a.jsx)("div",{className:"form-group col-md-6",children:Object(a.jsx)(B.b,{to:"/",className:"btn btn-block btn-danger ",children:"Go Back"})})]})]})]})]})})},z="https://dhaval-todo-app.herokuapp.com",X=function(){return{type:j,payload:null}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:p,payload:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:O,payload:e}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:h,payload:e}},te=function(e){var t=e.username,n=e.id;return function(e){e(X()),R.a.post("".concat(z,"/api/task-list/"),{username:t,id:n}).then((function(t){var n=t.data;e(function(){return{type:b,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(n))})).catch((function(t){var n=t.response.data.message;e(Z()),e($({type:"danger",message:n})),setTimeout((function(){return e(ee())}),3e3)}))}},ne=function(e){var t=e.username,n=e.id,a=e.taskid,r=e.task;return function(e){e(X()),R.a.post("".concat(z,"/api/task-update/").concat(a,"/"),Object(m.a)({username:t,id:n},r)).then((function(a){if(202===a.status)e(te({username:t,id:n}));else{var r=a.data.message;e(Z(r))}})).catch((function(t){var n=t.response.data.message;e(Z()),e($({type:"danger",message:n})),setTimeout((function(){return e(ee())}),3e3)}))}},ae=function(){return function(e){e({type:f,payload:null})}},re=function(e){var t=e.username,n=e.id;return function(e){R.a.post("".concat(z,"/api/task-all-delete/"),{username:t,id:n}).then((function(t){e(function(){return{type:x,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}()),e($({type:"success",message:"All Task Deleted.."})),setTimeout((function(){return e(ee())}),3e3)})).catch((function(t){var n=t.response.data.message;e(Z()),e($({type:"danger",message:n})),setTimeout((function(){return e(ee())}),3e3)}))}},se=function(e){var t=e.task,n=e.taskEdit,s=e.taskDelete,c=e.changeStatus;return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"task-wrapper",children:[Object(a.jsx)("div",{className:"overflow-auto",onClick:function(){return c(t)},children:t.completed?Object(a.jsx)("strike",{children:t.title}):Object(a.jsx)("span",{className:"h5",children:t.title})}),Object(a.jsxs)("div",{className:"flex-wrapper mt-3",children:[Object(a.jsx)("span",{className:"",children:ce(t.date)}),Object(a.jsx)("span",{className:"btn btn-sm btn-outline-info  ml-4",onClick:function(){return n(t)},children:"Edit"}),Object(a.jsx)("span",{className:"btn btn-sm btn-outline-dark ml-3",onClick:function(){return s(t.id)},children:"Delete"})]})]})})},ce=function(e){return new Date(e).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"numeric",day:"numeric"})},oe=function(){var e=Object(i.c)((function(e){return e.User})),t=e.user,n=e.userAlert,s=Object(i.c)((function(e){return e.Task})),c=s.taskAlert,o=s.taskList,l=Object(r.useState)({id:null,title:"",completed:!1}),u=Object(L.a)(l,2),d=u[0],j=u[1],b=Object(i.b)();Object(r.useEffect)((function(){b(te({username:t.username,id:t.id}))}),[b,t.username,t.id]);var p=function(e){b(function(e){var t=e.username,n=e.id,a=e.taskid;return function(e){e(X()),R.a.post("".concat(z,"/api/task-delete/").concat(a,"/"),{username:t,id:n}).then((function(a){if(202===a.status)e(te({username:t,id:n}));else{var r=a.data.message;e(Z(r))}})).catch((function(t){var n=t.response.data.message;e(Z()),e($({type:"danger",message:n})),setTimeout((function(){return e(ee())}),3e3)}))}}({username:t.username,id:t.id,taskid:e}))},f=function(e){j({id:e.id,title:e.title,completed:e.completed})},O=function(e){var n={title:e.title,completed:!e.completed};b(ne({username:t.username,id:t.id,taskid:e.id,task:n}))},h=function(){j({id:null,title:"",completed:!1})};return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[n&&Object(a.jsx)(G,{alert:n}),c&&Object(a.jsx)(G,{alert:c}),Object(a.jsxs)("div",{className:"row justify-content-end m-5",children:[Object(a.jsx)(B.b,{to:"/profile",className:"h3 custom-icon ",children:Object(a.jsx)("i",{className:" fas fa-user-alt"})}),Object(a.jsx)("p",{className:"h3 custom-icon ml-4",onClick:function(){b(M(t.username)),b(ae())},children:Object(a.jsx)("i",{className:" fas fa-sign-out-alt"})})]}),Object(a.jsxs)("div",{id:"task-container",children:[Object(a.jsx)("div",{id:"form-wrapper",children:Object(a.jsx)("form",{id:"form",onSubmit:function(e){if(e.preventDefault(),null!=d.id){var n={title:d.title,completed:d.completed};b(ne({username:t.username,id:t.id,taskid:d.id,task:n}))}else b(function(e){var t=e.username,n=e.id,a=e.title;return function(e){e(X()),R.a.post("".concat(z,"/api/task-create/"),{username:t,id:n,title:a}).then((function(a){if(201===a.status)e(te({username:t,id:n}));else{var r=a.data.message;e(Z(r))}})).catch((function(t){var n=t.response.data.message;e(Z()),e($({type:"danger",message:n})),setTimeout((function(){return e(ee())}),3e3)}))}}({username:t.username,id:t.id,title:d.title}));j({id:null,title:"",completed:!1})},children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-12 col-md-8",children:Object(a.jsx)("textarea",{onChange:function(e){return function(e){j(Object(m.a)(Object(m.a)({},d),{},{title:e.target.value}))}(e)},value:d.title,className:"form-control",type:"text",placeholder:"Enter Task",maxLength:"4500",required:!0})}),Object(a.jsx)("div",{className:"col-12 col-md-4 mt-2 mt-md-0 px-md-0",children:d.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{id:"submit",className:"btn btn-custom w-auto",children:"Edit"}),Object(a.jsx)("button",{className:"btn btn-danger px-2 ml-2",onClick:function(){return h},children:"Calcel"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{id:"submit",className:"btn btn-custom w-auto",children:"Add"}),o.length>0&&Object(a.jsx)("button",{id:"submit",className:"btn btn-danger w-auto",onClick:function(e){return e.preventDefault(),void b(re({username:t.username,id:t.id}))},children:"Delete All"})]})})]})})}),Object(a.jsx)("div",{id:"list-wrapper",children:o.map((function(e,t){return Object(a.jsx)(se,{task:e,taskDelete:p,taskEdit:f,changeStatus:O},t)}))})]})]})})},ie=n(37),le=function(e){var t=e.Component,n=e.path,s=Object(ie.a)(e,["Component","path"]),c=Object(i.c)((function(e){return e.User.isLogin}));return Object(a.jsx)(r.Fragment,{children:c?Object(a.jsx)(W.b,Object(m.a)(Object(m.a)({},s),{},{path:n,render:t})):Object(a.jsx)(W.a,{to:"/login"})})},ue=function(){var e=Object(i.b)();return Object(r.useEffect)((function(){var t=localStorage.getItem("todo-user");""!==t&&null!=t&&(t=JSON.parse(t),e(function(e){return function(t){t(D()),R.a.post("".concat(P,"/api/user-detail/"),Object(m.a)({},e)).then((function(e){var n=e.data;t(q(n))})).catch((function(e){var n=e.response.data.message;t(H()),t(I({type:"danger",message:n})),setTimeout((function(){return t(K())}),3e3)}))}}(t)))})),Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(B.a,{children:Object(a.jsxs)(W.d,{children:[Object(a.jsx)(W.b,{exact:!0,path:"/login",component:Y}),Object(a.jsx)(W.b,{exact:!0,path:"/signup",component:Q}),Object(a.jsx)(le,{path:"/profile",component:V}),Object(a.jsx)(le,{path:"/",component:oe})]})})})},de=function(){return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(i.a,{store:U,children:Object(a.jsx)(ue,{})})})};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(de,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.148a8cb7.chunk.js.map